var threadInfoStruct=0,selfThreadId=0,parentThreadId=0,tempDoublePtr=0,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,buffer,DYNAMICTOP_PTR=0,TOTAL_MEMORY=0,STATICTOP=0,staticSealed=!0,DYNAMIC_BASE=0,ENVIRONMENT_IS_PTHREAD=!0,__performance_now_clock_drift=0,Module={};
this.addEventListener("error",function(a){if(-1!=a.message.indexOf("SimulateInfiniteLoop"))return a.preventDefault();var c=" in "+a.filename+":"+a.lineno+":"+a.colno;console.error("Pthread "+selfThreadId+" uncaught exception"+(a.filename||a.lineno||a.colno?c:"")+": "+a.message+". Error object:");console.error(a.error)});function threadPrint(){var a=Array.prototype.slice.call(arguments).join(" ");console.log(a)}
function threadPrintErr(){var a=Array.prototype.slice.call(arguments).join(" ");console.error(a);console.error(Error().stack)}function threadAlert(){var a=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:a,threadId:selfThreadId})}out=threadPrint;err=threadPrintErr;this.alert=threadAlert;Module.instantiateWasm=function(a,c){instance=new WebAssembly.Instance(Module.wasmModule,a);delete Module.wasmModule;c(instance);return instance.exports};
this.onmessage=function(a){try{if("load"===a.data.cmd){tempDoublePtr=a.data.tempDoublePtr;Module.TOTAL_MEMORY=TOTAL_MEMORY=a.data.TOTAL_MEMORY;STATICTOP=a.data.STATICTOP;DYNAMIC_BASE=a.data.DYNAMIC_BASE;DYNAMICTOP_PTR=a.data.DYNAMICTOP_PTR;a.data.wasmModule?(Module.wasmModule=a.data.wasmModule,Module.wasmMemory=a.data.wasmMemory,buffer=Module.wasmMemory.buffer):buffer=a.data.buffer;PthreadWorkerInit=a.data.PthreadWorkerInit;if("string"===typeof a.data.urlOrBlob)importScripts(a.data.urlOrBlob);else{var c=
URL.createObjectURL(a.data.urlOrBlob);importScripts(c);URL.revokeObjectURL(c)}"undefined"!==typeof FS&&"function"===typeof FS.createStandardStreams&&FS.createStandardStreams();postMessage({cmd:"loaded"})}else if("objectTransfer"===a.data.cmd)PThread.receiveObjectTransfer(a.data);else if("run"===a.data.cmd){__performance_now_clock_drift=performance.now()-a.data.time;threadInfoStruct=a.data.threadInfoStruct;__register_pthread_ptr(threadInfoStruct,0,0);assert(threadInfoStruct);selfThreadId=a.data.selfThreadId;
parentThreadId=a.data.parentThreadId;assert(selfThreadId);assert(parentThreadId);STACK_BASE=STACKTOP=a.data.stackBase;STACK_MAX=STACK_BASE+a.data.stackSize;assert(0!=STACK_BASE);assert(STACK_MAX>STACK_BASE);Module.establishStackSpace(a.data.stackBase,a.data.stackBase+a.data.stackSize);c=0;"function"===typeof writeStackCookie&&writeStackCookie();PThread.receiveObjectTransfer(a.data);PThread.setThreadStatus(_pthread_self(),1);try{c=Module.dynCall_ii(a.data.start_routine,a.data.arg),"function"===typeof checkStackCookie&&
checkStackCookie()}catch(b){if("Canceled!"===b){PThread.threadCancel();return}if("SimulateInfiniteLoop"===b)return;Atomics.store(HEAPU32,threadInfoStruct+4>>2,b instanceof ExitStatus?b.status:-2);Atomics.store(HEAPU32,threadInfoStruct+0>>2,1);_emscripten_futex_wake(threadInfoStruct+0,2147483647);if(!(b instanceof ExitStatus))throw b;}Module.noExitRuntime||PThread.threadExit(c)}else"cancel"===a.data.cmd?threadInfoStruct&&0==PThread.thisThreadCancelState&&PThread.threadCancel():"setimmediate"!==a.data.target&&
("processThreadQueue"===a.data.cmd?threadInfoStruct&&_emscripten_current_thread_process_queued_calls():(err("pthread-main.js received unknown command "+a.data.cmd),console.error(a.data)))}catch(b){throw console.error("pthread-main.js onmessage() captured an uncaught exception: "+b),console.error(b.stack),b;}};
